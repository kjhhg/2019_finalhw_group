(function(t){function e(e){for(var a,r,c=e[0],o=e[1],l=e[2],d=0,m=[];d<c.length;d++)r=c[d],n[r]&&m.push(n[r][0]),n[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,c=1;c<s.length;c++){var o=s[c];0!==n[o]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"01a3":function(t,e,s){t.exports=s.p+"img/Group 66@2x.7844c712.png"},"0700":function(t,e,s){t.exports=s.p+"img/ted.4f6f1cc0.png"},"0da0":function(t,e,s){},"0ee8":function(t,e,s){},"16bf":function(t,e,s){t.exports=s.p+"img/Group 53@2x.8372d08f.png"},"177f":function(t,e,s){"use strict";var a=s("0da0"),n=s.n(a);n.a},"19c5":function(t,e,s){},"21b7":function(t,e,s){"use strict";var a=s("b732"),n=s.n(a);n.a},3728:function(t,e,s){},"458c":function(t,e,s){"use strict";var a=s("5b12"),n=s.n(a);n.a},5037:function(t,e,s){"use strict";var a=s("3728"),n=s.n(a);n.a},"52f7":function(t,e,s){"use strict";var a=s("c281"),n=s.n(a);n.a},"56d7":function(t,e,s){"use strict";s.r(e);var a={};s.r(a),s.d(a,"updateCart",function(){return Ke}),s.d(a,"removeItemInCart",function(){return Qe}),s.d(a,"registerByEmail",function(){return Je}),s.d(a,"logout",function(){return Ze}),s.d(a,"loginWithEmail",function(){return Ye}),s.d(a,"listenToProductList",function(){return ts}),s.d(a,"getShoppingCart",function(){return es}),s.d(a,"saveShoppingCart",function(){return ss}),s.d(a,"saveToTransaction",function(){return as});s("cadf"),s("551c"),s("f751"),s("097d"),s("4989"),s("ab8b");var n=s("2b0e"),i=s("8c4f"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("message-component"),s("router-view")],1)},c=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:(t.showMessageBar?"":"d-none")+"  message-bar"},[s("div",{class:t.messageClass},[s("Button",{staticClass:"btn btn-link close-btn",attrs:{bsStyle:"link"},on:{click:t.closeMessageBar}},[s("i",{staticClass:"fa fa-times"})]),s("div",[t._v(t._s(t.currentMessage))])],1)])},l=[],u=s("cebc"),d=s("2f62"),m={computed:Object(u["a"])({},Object(d["c"])(["messages"]),{showMessageBar:function(){return this.messages.message&&this.messages.message.length>0},messageClass:function(){var t=this.messages.messageClass;return"col-12 panel panel-"+t+" "+(this.showMessageBar?"":"hidden")},currentMessage:function(){return this.messages.message}}),methods:Object(u["a"])({},Object(d["b"])(["clearMessage"]),{closeMessageBar:function(){this.clearMessage()}})},p=m,g=(s("5ba2"),s("2877")),v=Object(g["a"])(p,o,l,!1,null,"b58de828",null),f=v.exports,h={components:{MessageComponent:f},name:"App"},b=h,_=Object(g["a"])(b,r,c,!1,null,null,null),C=_.exports,y=(s("7514"),{cartItemList:[]}),L={UPDATE_CART:function(t,e){var s=e.item,a=e.quantity,n=e.isAdd,i=t.cartItemList.find(function(t){return t.id==s.id});i?n?i.quantity+=a:i.quantity=a:t.cartItemList.push(Object(u["a"])({},s,{quantity:a}))},SET_CART:function(t,e){e&&(t.cartItemList=e)},REMOVE_CART_ITEM:function(t,e){var s=e.item,a=t.cartItemList.find(function(t){return t.id==s.id});t.cartItemList.splice(t.cartItemList.indexOf(a),1)}},w={clearCart:function(t){var e=t.commit;e("SET_CART",[])}},x={cartItemList:function(t){return t.cartItemList},cartValue:function(t){var e=0;return t.cartItemList.map(function(t){e+=t.price*t.quantity}),e}},I={state:y,mutations:L,actions:w,getters:x},E={isLoading:!0,productList:[]},j={UPDATE_PRODUCT_LIST:function(t,e){t.productList=e,t.isLoading=!1}},O={},k={products:function(t){return t.productList},isProductLoading:function(t){return t.isLoading}},S={state:E,mutations:j,actions:O,getters:k},P=(s("96cf"),s("3b8d")),T=s("8aa5"),A=s.n(T),$={apiKey:"AIzaSyDnGy9XtSGsIpXAGdlIdxijnj6Qo1HLu3o",authDomain:"sweettime-2366b.firebaseapp.com",databaseURL:"https://sweettime-2366b.firebaseio.com",projectId:"sweettime-2366b",storageBucket:"sweettime-2366b.appspot.com",messagingSenderId:"495013998711",appId:"1:495013998711:web:d4cbbe39fb162db8"};function M(t){A.a.auth().onAuthStateChanged(function(e){e?t(!0,e):t(!1)})}A.a.initializeApp($);var G=A.a.database().ref(),D=A.a.auth,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-grid"},[s("app-header"),s("Gallery"),s("mainPageProduct"),s("div",{staticClass:"sp"}),s("Aboutus"),s("Groupmember"),s("Footer")],1)},N=[],q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"nav"},[a("router-link",{staticStyle:{"grid-column":"2 / 3"},attrs:{to:"/"}},[a("img",{staticClass:"nav__logo",attrs:{src:s("b515"),alt:""}})]),a("input",{staticClass:"nav__checkbox",attrs:{type:"checkbox",id:"nav-toggle"},on:{click:t.onCheck}}),a("label",{staticClass:"nav__btn",attrs:{for:"nav-toggle"}},[a("button",{class:""+t.navIconClr})]),a("div",{class:"overlay "+t.myNav,attrs:{id:"myNav"}},[a("div",{staticClass:"overlay-content"},[a("img",{staticClass:"overlay_img",attrs:{src:s("b515")}}),a("router-link",{staticClass:"nav-item",attrs:{to:"/",tag:"li","active-class":"active"}},[a("a",{staticClass:"nav-link"},[t._v("首頁")])]),a("router-link",{staticClass:"nav-item",attrs:{to:"/allproducts",tag:"li","active-class":"active"}},[a("a",{staticClass:"nav-link"},[t._v("商品總覽")])]),a("router-link",{staticClass:"nav-item",attrs:{to:"/notice",tag:"li","active-class":"active"}},[a("a",{staticClass:"nav-link"},[t._v("購買須知")])]),a("router-link",{staticClass:"nav-item",attrs:{to:"/contactus",tag:"li","active-class":"active"}},[a("a",{staticClass:"nav-link"},[t._v("聯絡我們")])]),t.isLoggedIn?t._e():a("router-link",{staticClass:"nav-item",attrs:{to:"/login",tag:"li","active-class":"active"}},[a("a",{staticClass:"nav-link"},[t._v("登入/註冊")])]),t.isLoggedIn?a("li",{staticClass:"li-pointer nav-item"},[a("a",{staticClass:"nav-link",on:{click:t.logout}},[t._v("登出 "+t._s(t.userEmail))])]):t._e()],1)]),a("li",{staticStyle:{"grid-column":"-2 /-1","justify-self":"flex-start"}},[a("router-link",{staticClass:"btn btn-own btn-block",attrs:{to:"/cart",tag:"button"}},[a("span",{staticClass:"badge badge-light money"},[t._v(t._s(t.numItems)+" ($ "+t._s(t.cartValue)+")")]),a("br"),a("i",{staticClass:"fa fa-shopping-cart lg-color money"})])],1)],1)},R=[],V={name:"Nav",data:function(){return{checked:!1,size:"lg",myNav:"hide-sm",navIconClr:"nav__icon"}},computed:Object(u["a"])({},Object(d["c"])(["isLoggedIn","cartValue","currentUser","cartItemList"]),{numItems:function(){return this.cartItemList.reduce(function(t,e){return t+=e.quantity,t},0)},userEmail:function(){return this.isLoggedIn?this.currentUser.email:""}}),methods:Object(u["a"])({},Object(d["b"])(["logout","loginWithGoogle"]),{toggleNavbar:function(){this.isNavOpen=!this.isNavOpen},onResize:function(){window.innerWidth,this.size="sm",this.checked||(this.myNav="notransition hide-sm")},onCheck:function(){this.checked&&"sm"==this.size?(this.myNav="hide-sm",this.navIconClr="nav__icon"):(this.myNav="show",this.navIconClr="nav__icon__white"),this.checked=!this.checked},onRoute:function(){this.checked=!this.checked}}),created:function(){window.addEventListener("resize",this.onResize),this.size="sm",this.myNav="hide-sm"}},W=V,B=(s("6fe2"),Object(g["a"])(W,q,R,!1,null,"2efa2b30",null)),z=B.exports,F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product"},[s("h2",{staticClass:"grey-text"},[t._v("本周主打商品")]),s("Store1")],1)},H=[],X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",class:{loadingItem:t.isProductLoading}},[t.isProductLoading?s("div",{staticClass:"row text-center"},[t._m(0)]):t._e(),t.isProductLoading?t._e():s("div",{staticClass:"row"},t._l(t.products,function(e){return s("app-product-item",{key:e.id,attrs:{item:e,displayList:t.displayList}})}),1)])},K=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spinner-border text-light",staticStyle:{width:"4rem",height:"4rem"},attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mb-3 col-sm-6 col-md-4 item",class:{"list-group-item":t.displayList}},[s("div",{staticClass:"thumbnail card bg "},[s("div",{class:"img-event intrinsic border-0 prod-grid"+t.item.id},[s("img",{staticClass:"grow thumbnail-image card-img-top intrinsic-item p-3",attrs:{src:t.item.thumbnail_url,alt:""}})]),s("div",{staticClass:"card-body"},[s("router-link",{staticClass:"card-title",attrs:{to:"/product/"+t.item.id,tag:"h5"}},[s("a",{staticClass:"grey-text"},[t._v(t._s(t.item.title))])]),s("div",{staticClass:"row"},[s("p",{staticClass:"col-6 lead grey-text"},[t._v("$"+t._s(t.item.price))]),s("p",{staticClass:"col-6"},[s("button",{staticClass:"btn lg-color pull-right btn_center",attrs:{disabled:0===t.item.quantity},on:{click:t.addItem}},[t._v("\n            加入"),s("br"),t._v("購物車\n          ")])])])],1)])])},J=[],Z={props:["item","displayList"],methods:Object(u["a"])({},Object(d["b"])(["updateCart"]),{addItem:function(){var t={item:Object.assign({},this.item),quantity:1,isAdd:!0};this.updateCart(t)}}),filters:{shortDescription:function(t){return t&&t.length>100?t.substring(0,100)+"...":t}}},Y=Z,tt=(s("f5d7"),Object(g["a"])(Y,Q,J,!1,null,"389f2b94",null)),et=tt.exports,st={data:function(){return{loaderColor:"#5cb85c",loaderSize:"50px",displayList:!1}},computed:Object(u["a"])({},Object(d["c"])(["products","isProductLoading"])),components:{appProductItem:et},methods:{changeDisplay:function(t){this.displayList=t}}},at=st,nt=(s("83786"),Object(g["a"])(at,X,K,!1,null,null,null)),it=nt.exports,rt={components:{Store1:it},name:"mainPageStore"},ct=rt,ot=(s("e888"),Object(g["a"])(ct,F,H,!1,null,"b50c0390",null)),lt=ot.exports,ut=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"gallery"},[a("div",{staticClass:"sol1"},[t._v("眼裡只有你")]),a("img",{staticClass:"gallery__img",attrs:{src:s("e204")}}),a("div",{staticClass:"sol2"},[t._v("甜在我心裡")])])}],mt={name:"Gallery",props:["totalNews"]},pt=mt,gt=(s("da9b"),Object(g["a"])(pt,ut,dt,!1,null,"497b2640",null)),vt=gt.exports,ft=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("h2",{staticClass:"aboutus"},[t._v("關於我們")]),a("p",{staticClass:"titleword"},[t._v("\n    一群因為甜點而聚在一起的人們，創立了Sweet Time這個品牌"),a("br"),t._v("\n    為了造福更多熱愛甜點的朋友們"),a("br"),t._v("\n    Sweet Time決定踏入網路的世界\n  ")]),a("img",{staticClass:"titleimg",attrs:{src:s("9586"),alt:""}}),a("img",{staticClass:"decrimg1",attrs:{src:s("9266"),alt:""}}),a("p",{staticClass:"decr1"},[t._v("\n    不確定自己該怎麼歸類"),a("br"),t._v("\n    也許分類都是多餘的"),a("br"),t._v("\n    畢竟吃甜點想得到的"),a("br"),t._v("\n    都只是舒心與幸福，不是嗎? "),a("br"),a("br"),t._v("\n    所以我們會說，自己是自由式甜點吧!\n\n  ")]),a("img",{staticClass:"decrimg2",attrs:{src:s("01a3"),alt:""}}),a("p",{staticClass:"decr2"},[t._v("\n    Sweet Time有著雙關的語意"),a("br"),t._v("\n    一則是希望吃了我們的甜點"),a("br"),t._v("\n    能給予您甜美的時光"),a("br"),t._v("\n    二則是希望大家把甜點都食光!\n  ")]),a("img",{staticClass:"decrimg3",attrs:{src:s("16bf"),alt:""}}),a("p",{staticClass:"decr3"},[t._v("\n    跳出忙碌的生活，吃點甜的喘口氣吧!"),a("br"),t._v("\n    我們是Sweet Time"),a("br"),t._v("\n    是你生活中的小小停靠站\n  ")])])}],bt={name:"Aboutus"},_t=bt,Ct=(s("458c"),Object(g["a"])(_t,ft,ht,!1,null,"cb6ce66e",null)),yt=Ct.exports,Lt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},wt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("h2",{staticClass:"groupmember"},[t._v("團隊成員")]),a("img",{staticClass:"groupmember--picture1",attrs:{src:s("f517"),alt:""}}),a("p",{staticClass:"groupmember--decr1"},[t._v("\n    Project Planning "),a("br"),t._v("\n    UI Design "),a("br"),t._v("\n    Coding "),a("br")]),a("img",{staticClass:"groupmember--picture2",attrs:{src:s("d609"),alt:""}}),a("p",{staticClass:"groupmember--decr2"},[t._v("\n    Project Planning "),a("br"),t._v("\n    UI/UX Design "),a("br"),t._v("\n    Coding "),a("br")]),a("img",{staticClass:"groupmember--picture3",attrs:{src:s("0700"),alt:""}}),a("p",{staticClass:"groupmember--decr3"},[t._v("\n    Project Planning "),a("br"),t._v("\n    DB Design "),a("br"),t._v("\n    Coding "),a("br")])])}],xt={name:"Groupmember"},It=xt,Et=(s("9ce1"),Object(g["a"])(It,Lt,wt,!1,null,"521461d7",null)),jt=Et.exports,Ot=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},kt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"footer"},[s("h5",{staticClass:"footer__description1"},[t._v("\n      臺北市和平東路二段134號，國立臺北教育大學 數位科技設計學系\n   ")]),s("h6",{staticClass:"footer__description2"},[t._v("\n      © Copyright All rights reserved.\n   ")])])}],St={name:"Footer"},Pt=St,Tt=(s("8e9c"),Object(g["a"])(Pt,Ot,kt,!1,null,"b77aeb80",null)),At=Tt.exports,$t={name:"Main",components:{appHeader:z,mainPageProduct:lt,Gallery:vt,Aboutus:yt,Groupmember:jt,Footer:At},methods:Object(d["b"])(["init"]),created:function(){this.init()}},Mt=$t,Gt=(s("21b7"),Object(g["a"])(Mt,U,N,!1,null,null,null)),Dt=Gt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"jumbotron jumbotron-bg text-white text-center"},[a("router-link",{attrs:{to:"/"}},[a("h2",{staticClass:"display-3"},[a("img",{attrs:{src:s("b515"),alt:""}})])])],1),a("div",{staticClass:"col-md-6 offset-md-3"},[a("h2",{staticClass:"login-header text-center mb-5 display-4"},[t._v("\n      登入/註冊\n    ")]),a("form",[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"email",placeholder:"Email Address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("div",{staticClass:"text-center mt-4"},[a("button",{staticClass:"btn btn-bg btn-lg btn-block",attrs:{disabled:t.isLoading},on:{click:function(e){return e.preventDefault(),t.loginWithEmailLocal(e)}}},[t.isLoading?a("i",{staticClass:"fa fa-spinner fa-spin"}):t._e(),t._v("\n        登入\n      ")]),a("button",{staticClass:"btn btn-bg btn-lg btn-block",attrs:{disabled:t.isLoading},on:{click:function(e){return e.preventDefault(),t.registerByEmailLocal(e)}}},[t.isLoading?a("i",{staticClass:"fa fa-spinner fa-spin"}):t._e(),t._v("\n        註冊\n      ")]),a("button",{staticClass:"btn btn-bg-g btn-lg btn-block",on:{click:t.loginWithGoogle}},[a("img",{attrs:{src:s("57cd"),alt:""}}),t._v("\n        Google帳號登入\n      ")]),a("br"),a("br")])])])},Nt=[],qt={data:function(){return{email:"",password:"",isLoading:!1}},methods:Object(u["a"])({},Object(d["b"])(["addMessage","clearMessage","loginWithEmail","registerByEmail","loginWithGoogle"]),{loginWithEmailLocal:function(){var t=this;this.isLoading=!0;var e={email:this.email,password:this.password};this.loginWithEmail(e).then(function(){t.clearMessage(),t.$router.push({name:"mainpage"})}).catch(function(e){var s={message:e.message,messageClass:"danger",autoClose:!0};t.addMessage(s)}).then(function(){t.isLoading=!1})},registerByEmailLocal:function(){var t=this;this.isLoading=!0;var e={email:this.email,password:this.password};this.registerByEmail(e).then(function(){t.clearMessage(),t.$router.push({name:"mainpage"})}).catch(function(e){var s={message:e.message,messageClass:"danger",autoClose:!0};t.addMessage(s)}).then(function(){t.isLoading=!1})}})},Rt=qt,Vt=(s("5037"),Object(g["a"])(Rt,Ut,Nt,!1,null,"3c55b5a1",null)),Wt=Vt.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-grid"},[s("app-header"),s("div",{staticClass:"container table-responsive bg"},[s("table",{staticClass:"table-Danger table-hover table-sm no-border  grey-text",attrs:{id:"cart"}},[t._m(0),s("transition-group",{attrs:{name:"list-shopping-cart",tag:"tbody"}},t._l(t.cartItemList,function(t){return s("app-cart-item",{key:t.id,attrs:{cartItem:t}})}),1),s("tfoot",[s("tr",{staticClass:"d-table-row d-sm-none"},[s("td",{staticClass:"text-center"},[s("strong",[t._v("總金額 $"+t._s(t.cartValue))])])]),s("tr",[s("td",[s("button",{staticClass:"btn lg-color btn-cart",on:{click:t.saveShoppingCartLocal}},[s("i",{staticClass:"fa fa-angle-left "}),t._v(" 儲存並繼續購買\n              ")])]),s("td",{staticClass:"d-none d-sm-table-cell",attrs:{colspan:"2"}}),s("td",{staticClass:"d-none d-sm-table-cell text-center"},[s("strong",[t._v("總金額 $"+t._s(t.cartValue))])]),s("td",{staticClass:"px-0"},[s("button",{staticClass:"btn lg-color btn-cart",on:{click:t.checkout}},[t._m(1)])])])])],1)])],1)},zt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticStyle:{width:"50%"}},[t._v("產品")]),s("th",{staticStyle:{width:"10%"}},[t._v("價格")]),s("th",{staticStyle:{width:"10%","text-align":"center"}},[t._v("剩餘數量")]),s("th",{staticClass:"text-center",staticStyle:{width:"22%"}},[t._v("小計")]),s("th",{staticStyle:{width:"10%"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"text-nowrap "},[t._v("前往結帳 "),s("i",{staticClass:"fa fa-angle-right d-inline"})])}],Ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",{attrs:{"data-th":"Product"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-2 d-none d-sm-block"},[s("img",{staticClass:"img-fluid",attrs:{src:t.cartItem.thumbnail_url,alt:"..."}})]),s("div",{staticClass:"col-sm-10"},[s("h4",{staticClass:"nomargin"},[t._v(t._s(t.cartItem.title))]),s("p",[t._v(t._s(t.cartItem.description))])])])]),s("td",{attrs:{"data-th":"Price"}},[t._v(t._s(t.cartItem.price))]),s("td",{attrs:{"data-th":"Quantity"}},[s("input",{staticClass:"form-control text-center",attrs:{type:"number",min:"0"},domProps:{value:t.cartItem.quantity},on:{input:t.updateQuantity}})]),s("td",{staticClass:"text-center",attrs:{"data-th":"Subtotal"}},[t._v("$"+t._s(t.subtotal))]),s("td",{staticClass:"actions",attrs:{"data-th":""}},[s("button",{staticClass:"btn",on:{click:t.removeItem}},[s("i",{staticClass:"fa fa-trash-o"})])])])},Ht=[],Xt={props:["cartItem"],computed:{subtotal:function(){return this.cartItem.quantity*this.cartItem.price}},methods:Object(u["a"])({},Object(d["b"])(["updateCart","removeItemInCart"]),{removeItem:function(){var t=this;this.removeItemInCart({item:t.cartItem})},updateQuantity:function(t){var e=this;this.updateCart({item:e.cartItem,quantity:parseInt(t.target.value),isAdd:!1})}})},Kt=Xt,Qt=(s("e22a"),Object(g["a"])(Kt,Ft,Ht,!1,null,null,null)),Jt=Qt.exports,Zt={computed:Object(u["a"])({},Object(d["c"])(["cartItemList","isLoggedIn","products","currentUser","cartValue"])),components:{appCartItem:Jt,appHeader:z},methods:Object(u["a"])({},Object(d["b"])(["saveShoppingCart","addMessage","saveToTransaction","clearCart"]),{checkValidCart:function(t,e){var s=!0,a="";return t.map(function(t){for(var n=0;n<e.length;n++)if(e[n].id==t.id){if(e[n].quantity<t.quantity)return a="Only ".concat(e[n].quantity," ").concat(t.title," available in stock"),void(s=!1);break}}),{isValid:s,message:a}},saveShoppingCartLocal:function(){var t=this;if(this.isLoggedIn){var e=this.checkValidCart(this.cartItemList,this.products),s=e.isValid,a=e.message;s?this.saveShoppingCart({cartItemList:this.cartItemList,uid:this.currentUser.uid}).then(function(){t.addMessage({messageClass:"success",message:"已成功儲存您的購物車"}),t.$router.push("/")}):this.addMessage({messageClass:"danger",message:a})}else this.addMessage({messageClass:"warning",message:"請登入儲存您的購物車"})},checkout:function(){var t=this;if(this.isLoggedIn){if(!this.cartItemList||0==this.cartItemList.length)return void this.addMessage({messageClass:"warning",message:"您的購物車內沒有東西!"});var e=this.checkValidCart(this.cartItemList,this.products),s=e.isValid,a=e.message;s?this.saveToTransaction({cartItemList:this.cartItemList,uid:this.currentUser.uid}).then(function(){t.addMessage({messageClass:"success",message:"購買成功"}),t.saveShoppingCart({cartItemList:[],uid:t.currentUser.uid}),t.clearCart(),t.$router.push("/")}):this.addMessage({messageClass:"danger",message:a})}else this.addMessage({messageClass:"warning",message:"請先登入"})}})},Yt=Zt,te=(s("700d"),Object(g["a"])(Yt,Bt,zt,!1,null,"d5053eee",null)),ee=te.exports,se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container bg"},[s("div",{staticClass:"col-md-12"},[t.isProductLoading?s("div",{staticClass:"text-center"},[t._m(0)]):s("div",{staticClass:"card"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 col-md-4 offset-md-4"},[s("div",{staticClass:"intrinsic"},[s("img",{staticClass:"img-fluid intrinsic-item",attrs:{src:t.item.thumbnail_url,alt:""}})])])]),s("div",{staticClass:"caption-full grey-text"},[s("h4",{staticClass:"pull-right"},[t._v("$ "+t._s(t.item.price))]),s("h4",[t._v(" "+t._s(t.item.title))]),s("p",[t._v(" "+t._s(t.item.description)+" ")])]),s("div",{staticClass:"ratings"},[s("p",{staticClass:"pull-right"},[s("button",{staticClass:"btn lg-color",attrs:{disabled:0===t.item.quantity},on:{click:t.addItem}},[t._v("\n                    加入購物車\n          ")])]),s("div",{staticClass:"clearfix"})])])])])},ae=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spinner-border text-light",staticStyle:{width:"4rem",height:"4rem"},attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],ne={data:function(){return{loaderColor:"#5cb85c",loaderSize:"50px"}},computed:Object(u["a"])({},Object(d["c"])(["isProductLoading","products"]),{item:function(){var t=this.$route.params.id;if(this.products.length>=t){var e=this.products.filter(function(e){return e.id==t});if(e.length>0)return e[0]}return{}}}),methods:Object(u["a"])({},Object(d["b"])(["updateCart"]),{addItem:function(){var t={item:Object.assign({},this.item),quantity:1,isAdd:!0};this.updateCart(t)}})},ie=ne,re=(s("52f7"),Object(g["a"])(ie,se,ae,!1,null,"6a517f56",null)),ce=re.exports,oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-grid"},[s("Nav"),t._m(0),s("Footer")],1)},le=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section-notice"},[s("h2",{staticClass:"notice"},[t._v("購買須知")]),s("div",{staticClass:"main"},[t._v("\n      蛋糕宅配服務"),s("br"),t._v("\n      \n      目前我們配合黑貓宅急便做蛋糕宅配運送，為了確保商品的新鮮及配送安全，全程都會使用低溫冷凍配送，因此如果蛋糕內容含有新鮮水果及無法冷凍的食材就不能選擇宅配喲！\n      "),s("br"),s("p"),s("p"),t._v("\n      訂購須知："),s("br"),s("p"),s("p"),t._v("\n      ✱ 可指定到貨日：指定時間為週二至週六，為因應黑貓宅急便週日公休政策，所以週日及週一無法指定到貨"),s("br"),s("p"),t._v("\n      ✱ 訂單送出後，請在3日內完成付款，付款完成才開始安排訂單製作"),s("br"),s("p"),t._v("\n      ✱ 所有商品皆為新鮮製作，所以我們最快出貨日為下單後3個工作天，如有急單需求請務必來電確認，夥伴們會跟您確認更改收貨日期的事宜"),s("br"),s("p"),t._v("\n      ✱ 如訂單送出後有需要修改到貨日期，請電洽店面或私訊粉絲團做修改"),s("br"),s("p"),t._v("\n      ✱ 宅配商品我們皆進行了多次的配送實驗，也有最完全保護的包裝，但是配送過程還是有一定的風險，下單前請三思，可能會因配送而有碰撞的狀態，風險須自行承擔，除非為嚴重變形及耗損，黑貓宅配才會視狀況做賠償，可以接受者再下單喲"),s("br")]),s("div",{staticClass:"pay pay-title1"},[t._v("\n      蛋糕宅配可以選擇時段嗎？\n    ")]),s("div",{staticClass:"ans ans1"},[t._v("\n      \n      配合黑貓宅配的到貨方案，宅配時段可選13:00前及13:00-18:00兩個時段，無法指定確切的時間到貨，如有需要指定時段，請直接在訂單備註欄做備註，如沒有特殊需求，建議指定「13點前」收件，避免延誤您的等候時間，也會減短商品在物流運送的時間、大幅降低商品受損的風險。另外請注意周日及週一無法指定到貨，請留意選擇到貨時間\n      "),s("br"),s("p"),t._v("\n      如有特殊到貨需求，可至粉絲專頁私訊或是電話告知，我們會做即時的資訊回覆。\n\n    ")]),s("div",{staticClass:"pay pay-title2"},[t._v("\n      母親節蛋糕什麼時候開放宅配預約？\n    ")]),s("div",{staticClass:"ans ans2"},[t._v("\n      2019母親節蛋糕開放訂購時間為4/?~5/?，蛋糕宅配可到貨時間為5/?~5/?，請直接到以下連結線上訂購\n    ")]),s("div",{staticClass:"pay pay-title3"},[t._v("\n      如果宅配過程中蛋糕撞傷了，怎麼辦？能補一個新的嗎？\n    ")]),s("div",{staticClass:"ans ans3"},[t._v("\n      1. 蛋糕宅配有一定風險，車體運送途中可能造成蛋糕左右位移3~5cm。蛋糕位移、側邊損傷或裝飾掉落、微損，均不在毀壞補償範圍內，風險須自行承擔。"),s("br"),t._v("\n      2. 本商品為食品，收件後請立即打開檢視蛋糕狀態。"),s("br"),t._v("\n      3. 蛋糕如嚴重受損 ( 蛋糕糊爛、不成型、難以辨別蛋糕原本的樣子)，請在第一時間內拍照存證 ( 需拍攝蛋糕在蛋糕盒內的樣子)，並請於「當天」電話 02-29602487或私訊粉絲專頁聯絡我們喔！"),s("br"),t._v("\n      4. 如很明顯是運送的人為疏失，我們會在第一時間與配送公司聯繫處理，在還未處理完成前，請不要丟掉或吃掉蛋糕，請保留收件時的狀態，避免與黑貓造成糾紛。"),s("br"),t._v("\n      5.我們會盡最大的心力去包裝並防止碰撞，但宅配一定有風險，下單前請務必閱讀以上注意事項。\n\n\n    ")])])}],ue={name:"Notice",components:{Nav:z,Footer:At}},de=ue,me=(s("177f"),Object(g["a"])(de,oe,le,!1,null,null,null)),pe=me.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-grid"},[s("Nav"),s("Contactus"),s("Footer")],1)},ve=[],fe=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},he=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section"},[s("form",{attrs:{action:"https://script.google.com/macros/s/AKfycbxIM_PFKOvt1EWGwbdnTXof-9-lfpVX5bPfr4md/exec",method:"POST"}},[s("h2",{staticClass:"title"},[t._v("歡迎聯絡")]),s("div",{staticClass:"nameclass"},[t._v("姓名："),s("input",{staticClass:"bordercls",attrs:{type:"text",name:"userName",cols:"50",required:""}}),s("br")]),s("div",{staticClass:"quetitle"},[t._v("\n        提問：\n      ")]),s("div",{staticClass:"quebox"},[s("textarea",{staticClass:"bordercls",attrs:{name:"contentTxt",rows:"10",cols:"40",required:""}}),s("br"),s("input",{attrs:{type:"hidden",name:"method",value:"write"}}),s("input",{attrs:{type:"hidden",name:"sheetUrl",value:"https://docs.google.com/spreadsheets/d/1I9x5pAg-n5wsNZ4kLNT9H4pjV3qx4jR-MCriKOq8JO0/edit?usp=sharing"}}),s("input",{attrs:{type:"hidden",name:"sheetTag",value:"工作表1"}}),s("br")]),s("input",{staticClass:"btn sub",attrs:{type:"submit",value:"送出"}})])])}],be={name:"Contactus"},_e=be,Ce=(s("cd68"),Object(g["a"])(_e,fe,he,!1,null,null,null)),ye=Ce.exports,Le={name:"Main",components:{Nav:z,Contactus:ye,Footer:At},computed:Object(d["c"])(["totalNews","selectedNews"]),methods:Object(d["b"])(["init"]),created:function(){this.init()}},we=Le,xe=(s("8298"),Object(g["a"])(we,ge,ve,!1,null,null,null)),Ie=xe.exports,Ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex flex-column sticky-footer-wrapper bg"},[s("main",{staticClass:"flex-fill"},[s("app-header"),s("div",{staticClass:"container mt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("Store")],1)])])],1),s("Footer")],1)},je=[],Oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",class:{loadingItem:t.isProductLoading}},[t.isProductLoading?s("div",{staticClass:"row text-center"},[t._m(0)]):s("div",{staticClass:"row action-panel"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"btn-group btn-group-sm pull-right"},[s("button",{staticClass:"btn lg-color",attrs:{id:"list"},on:{click:function(e){return e.preventDefault(),t.changeDisplay(!0)}}},[s("i",{staticClass:"fa fa-list",attrs:{"aria-hidden":"true"}}),t._v(" List\n\t\t\t\t")]),s("button",{staticClass:"btn lg-color",attrs:{id:"grid"},on:{click:function(e){return e.preventDefault(),t.changeDisplay(!1)}}},[s("i",{staticClass:"fa fa-th",attrs:{"aria-hidden":"true"}}),t._v(" Grid\n\t\t\t\t")])])])]),t.isProductLoading?t._e():s("div",{staticClass:"row"},t._l(t.products,function(e){return s("app-product-item",{key:e.id,attrs:{item:e,displayList:t.displayList}})}),1)])},ke=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spinner-border text-light",staticStyle:{width:"4rem",height:"4rem"},attrs:{role:"status"}},[s("span",{staticClass:"sr-only"},[t._v("Loading...")])])}],Se={data:function(){return{loaderColor:"#5cb85c",loaderSize:"50px",displayList:!1}},computed:Object(u["a"])({},Object(d["c"])(["products","isProductLoading"])),components:{appProductItem:et},methods:{changeDisplay:function(t){this.displayList=t}}},Pe=Se,Te=(s("b00a"),Object(g["a"])(Pe,Oe,ke,!1,null,null,null)),Ae=Te.exports,$e={components:{appHeader:z,Store:Ae,Footer:At},methods:Object(u["a"])({},Object(d["b"])(["getShoppingCart","listenToProductList"])),created:function(){var t=this.$store.getters.currentUser.uid;this.listenToProductList(),this.getShoppingCart({uid:t,currentCart:this.$store.getters.cartItemList})}},Me=$e,Ge=(s("ecdf"),Object(g["a"])(Me,Ee,je,!1,null,null,null)),De=Ge.exports;n["a"].use(i["a"]);var Ue=new i["a"]({mode:"history",routes:[{path:"*",redirect:"/"},{path:"/",component:Dt,name:"mainpage"},{path:"/product/:id",component:ce,name:"product"},{path:"/cart",component:ee,name:"shoppingcart"},{path:"/login",component:Wt,name:"login",onlyGuest:!0},{path:"/notice",component:pe,name:"notice"},{path:"/contactus",component:Ie,name:"contactus"},{path:"/allproducts",component:De,name:"allproduct"}]}),Ne={isLoggedIn:null!=D().currentUser,user:D().currentUser,errors:[],loading:!1},qe={AUTH_STATUS_CHANGE:function(t){t.isLoggedIn=null!=D().currentUser,t.user=D().currentUser}},Re={loginWithGoogle:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return Ne.loading=!0,Ne.errors=[],t.prev=2,t.next=5,A.a.auth().signInWithPopup(new A.a.auth.GoogleAuthProvider);case 5:e=t.sent,Ne.user=e.user,Ue.push("/"),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),Ne.errors.push(t.t0.message),Ne.loading=!1;case 14:case"end":return t.stop()}},t,null,[[2,10]])}));function e(){return t.apply(this,arguments)}return e}()},Ve={isLoggedIn:function(t){return t.isLoggedIn},currentUser:function(t){return t&&t.user?{email:t.user.email,emailVerified:t.user.emailVerified,uid:t.user.uid}:{}}},We={state:Ne,mutations:qe,actions:Re,getters:Ve},Be={messageGroup:{messageClass:"",message:"",timeoutEvent:null}},ze={ADD_MESSAGE:function(t,e){var s=e.message,a=e.messageClass;t.messageGroup={messageClass:a,message:s},t.timeoutEvent&&clearTimeout(t.timeoutEvent),t.timeoutEvent=setTimeout(function(){t.messageGroup={messageClass:"",message:""}},5e3)},CLEAR_MESSAGE:function(t){t.messageGroup={messageClass:"",message:""}}},Fe={addMessage:function(t,e){var s=t.commit;s("ADD_MESSAGE",e)},clearMessage:function(t){var e=t.commit;e("CLEAR_MESSAGE")}},He={messages:function(t){return t.messageGroup}},Xe={state:Be,mutations:ze,actions:Fe,getters:He},Ke=function(t,e){var s=t.commit,a=e.item,n=e.quantity,i=e.isAdd;if(s("UPDATE_CART",{item:a,quantity:n,isAdd:i}),i){var r={message:"成功將 ".concat(a.title," 加入購物車"),messageClass:"success",autoClose:!0};s("ADD_MESSAGE",r)}},Qe=function(t,e){var s=t.commit,a=e.item;s("REMOVE_CART_ITEM",{item:a})},Je=function(t,e){var s=e.email,a=e.password;return D().createUserWithEmailAndPassword(s,a)},Ze=function(t){var e=t.commit;return e("SET_CART",[]),D().signOut()};function Ye(t,e){var s=e.email,a=e.password;return D().signInWithEmailAndPassword(s,a)}function ts(t){var e=t.commit;return G.child("productList").on("value",function(t){e("UPDATE_PRODUCT_LIST",t.val())})}function es(t,e){var s=t.commit,a=e.uid,n=e.currentCart;if(a)return G.child("cart/"+a).once("value").then(function(t){!t.val()||n&&0!=n.length||s("SET_CART",t.val())})}function ss(t,e){var s=e.uid,a=e.cartItemList;return G.child("cart/"+s).set(a)}function as(t,e){var s=e.uid,a=e.cartItemList,n=G.child("transactions").push().key,i={};return i["/transactions/"+s+"/"+n]=a,G.update(i)}n["a"].use(d["a"]);var ns=new d["a"].Store({actions:a,modules:{auth:We,cart:I,products:S,messages:Xe}});function is(t,e){ns&&(ns.commit("AUTH_STATUS_CHANGE"),e&&ns.dispatch("getShoppingCart",{uid:e.uid,currentCart:ns.getters.cartItemList}))}n["a"].use(i["a"]),M(is),new n["a"]({router:Ue,store:ns,render:function(t){return t(C)}}).$mount("#app")},"57cd":function(t,e,s){t.exports=s.p+"img/1024px-Google__G__Logo.svg.572fe388.png"},"5b12":function(t,e,s){},"5ba2":function(t,e,s){"use strict";var a=s("db24"),n=s.n(a);n.a},"6fe2":function(t,e,s){"use strict";var a=s("8439"),n=s.n(a);n.a},"700d":function(t,e,s){"use strict";var a=s("eb06"),n=s.n(a);n.a},"73d9":function(t,e,s){},7562:function(t,e,s){},8298:function(t,e,s){"use strict";var a=s("73d9"),n=s.n(a);n.a},83786:function(t,e,s){"use strict";var a=s("d668"),n=s.n(a);n.a},8439:function(t,e,s){},"8e9c":function(t,e,s){"use strict";var a=s("9961"),n=s.n(a);n.a},9266:function(t,e,s){t.exports=s.p+"img/Group 67@2x.38c92ccb.png"},9586:function(t,e,s){t.exports=s.p+"img/Group 73@2x.4c19a075.png"},9961:function(t,e,s){},"9ce1":function(t,e,s){"use strict";var a=s("f494"),n=s.n(a);n.a},a010:function(t,e,s){},b00a:function(t,e,s){"use strict";var a=s("19c5"),n=s.n(a);n.a},b515:function(t,e,s){t.exports=s.p+"img/sweet_time.076289e3.png"},b732:function(t,e,s){},c281:function(t,e,s){},c49f:function(t,e,s){},c58f:function(t,e,s){},cd68:function(t,e,s){"use strict";var a=s("7562"),n=s.n(a);n.a},d609:function(t,e,s){t.exports=s.p+"img/alan.4bb27d0a.jpg"},d668:function(t,e,s){},da9b:function(t,e,s){"use strict";var a=s("c58f"),n=s.n(a);n.a},db24:function(t,e,s){},e204:function(t,e,s){t.exports=s.p+"img/baked-goods-cake-close-up-998237.7851b8ef.jpg"},e22a:function(t,e,s){"use strict";var a=s("c49f"),n=s.n(a);n.a},e888:function(t,e,s){"use strict";var a=s("a010"),n=s.n(a);n.a},eb06:function(t,e,s){},ecdf:function(t,e,s){"use strict";var a=s("f54e"),n=s.n(a);n.a},f494:function(t,e,s){},f517:function(t,e,s){t.exports=s.p+"img/hsuan.dff47b6a.jpg"},f54e:function(t,e,s){},f5d7:function(t,e,s){"use strict";var a=s("0ee8"),n=s.n(a);n.a}});
//# sourceMappingURL=app.5ec248d5.js.map